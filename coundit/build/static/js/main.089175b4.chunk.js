(this.webpackJsonpsample=this.webpackJsonpsample||[]).push([[0],{29:function(e,t,r){},30:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(22),c=r.n(s),o=r(2),i=(r(28),r(29),r(3)),l=r(4),d=r(6),u=r(5),h=r(7),j=(r(30),r(0));function b(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"ml-4 font-semibold\t",children:Object(j.jsx)(o.c,{activeClassName:"text-gray-500",to:"/login",children:"Sign in"})}),Object(j.jsx)("li",{className:"ml-4 font-semibold\t",children:Object(j.jsx)(o.c,{activeClassName:"text-gray-500",to:"/signup",children:"Sign up"})})]})}function m(e){var t=e.user;e.handleProfile;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"ml-4 font-semibold\t",children:Object(j.jsx)(o.c,{activeClassName:"text-gray-500",to:"/new-post",children:"New post"})}),Object(j.jsx)("li",{className:"ml-4 font-semibold\t",children:Object(j.jsx)(o.c,{activeClassName:"text-gray-500",to:"/setting",children:"Setting"})}),Object(j.jsx)("li",{className:"ml-4 font-semibold\t",children:Object(j.jsx)(o.c,{activeClassName:"text-gray-500",to:"/profile/".concat(t.username),children:t.username})})]})}var p=function(e){var t=e.isLogedInUser,r=e.user,n=e.handleProfile;return Object(j.jsx)("header",{className:"bg-gray-100",children:Object(j.jsxs)("div",{className:"container flex justify-between items-center py-4",children:[Object(j.jsx)(o.c,{to:"/index",exact:!0,className:"text-green-600 font-semibold\t text-2xl ",children:"conduit"}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{className:"flex",children:[Object(j.jsx)("li",{className:"ml-4 font-semibold\t",children:Object(j.jsx)(o.c,{to:"/",activeClassName:"text-gray-500",exact:!0,children:"Home"})}),!1===t?Object(j.jsx)(b,{}):Object(j.jsx)(m,{user:r,handleProfile:n})]})})]})})};function x(){return Object(j.jsx)("section",{className:"hero py-16 bg-green-500",children:Object(j.jsxs)("div",{className:"container text-center",children:[Object(j.jsx)("h1",{className:"text-white text-4xl font-bold ",children:"conduit"}),Object(j.jsx)("p",{className:"text-white mt-4 text-2xl font-semibold",children:"A place to share your knowledge"})]})})}function f(e){var t=e.activeTab,r=e.emptyTab,n=e.isLogedInUser,a=e.user,s=e.yourFeedFn,c=e.activeTag;return Object(j.jsx)("section",{children:Object(j.jsx)("div",{className:"border-b-2  pb-2",children:Object(j.jsxs)("ul",{className:"flex",children:[n&&Object(j.jsx)("li",{className:"mr-4",onClick:function(){return s(a.username)},children:Object(j.jsx)(o.c,{to:"/",activeClassName:"".concat("your feed"===c&&"text-green-500 border-b-2 border-green-500 pb-3"),children:"Your feed"})}),Object(j.jsx)("li",{className:"mr-4",onClick:function(){return r()},children:Object(j.jsx)(o.c,{to:"/",activeClassName:"".concat(""===t&&""===c?"text-green-500 border-b-2 border-green-500 pb-3":""),children:"Global Feed"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.c,{to:"/",activeClassName:t&&"text-green-500 border-b-2 border-green-500 pb-3",children:t})})]})})})}var g=function(){return Object(j.jsxs)("div",{className:"bouncing-loader",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})};var O=function(e){var t=e.article,r=t.author,n=t.createdAt,a=t.title,s=t.description,c=t.tagList,i=t.slug,l=t.favoritesCount,d=e.favoriteArticle,u=e.unFavoriteArticle;return Object(j.jsxs)("article",{className:"mt-8 border-b-2 pb-4",children:[Object(j.jsxs)("header",{className:"flex justify-between items-center",children:[Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{to:"/profile/".concat(r.username),children:Object(j.jsx)("img",{src:r.image||"https://static.productionready.io/images/smiley-cyrus.jpg",alt:"avatar",className:"w-12 h-12 rounded-full"})})}),Object(j.jsxs)("div",{className:"ml-4",children:[Object(j.jsx)(o.b,{to:"/profile/".concat(r.username),children:r.username}),Object(j.jsx)("p",{children:n})]})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"border border-green-500 rounded p-1 outline-none",onClick:0===l?function(){return d(i)}:function(){return u(i)},children:Object(j.jsxs)("i",{className:"far fa-heart ",children:[" ",Object(j.jsx)("span",{className:"ml-1",children:l})," "]})})})]}),Object(j.jsx)("div",{className:"my-4",children:Object(j.jsxs)(o.b,{to:"/article/".concat(i),children:[Object(j.jsx)("h1",{children:a}),Object(j.jsxs)("p",{children:[s.slice(0,50),"..."]})]})}),Object(j.jsxs)("div",{className:"flex justify-between items-center mt-4 text-gray-400",children:[Object(j.jsx)(o.b,{to:"/article/".concat(i),children:"Read more..."}),Object(j.jsx)("ul",{className:"flex",children:c.map((function(e,t){return""===e?"":Object(j.jsx)("li",{className:"mr-4 border rounded px-2",children:Object(j.jsx)(o.b,{to:"/article/".concat(i),children:e})},t)}))})]})]})};var v=function(e){var t=e.favoriteArticle,r=e.unFavoriteArticle;return e.articles?e.articles.length<1?Object(j.jsx)("h1",{children:"No article here"}):e.articles.map((function(e,n){return Object(j.jsx)(O,{article:e,favoriteArticle:t,unFavoriteArticle:r},n)})):Object(j.jsx)(g,{})},y="https://mighty-oasis-08080.herokuapp.com/api/",N=y+"articles",w=y+"users",k=y+"users/login",C=y+"user",S="App_key",T=y+"profiles",F=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={tags:null,error:null},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("https://mighty-oasis-08080.herokuapp.com/api/tags").then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){e.setState({tags:t.tags,error:""})})).catch((function(t){e.setState({error:"Not able to fetch tags!"})}))}},{key:"render",value:function(){var e=this;return this.state.tags?Object(j.jsxs)("aside",{className:"flex-30  self-start bg-gray-200 rounded p-4 ",children:[Object(j.jsx)("h3",{className:"mb-4 ml-2 font-bold",children:"Popular tags"}),Object(j.jsx)("div",{className:"flex flex-wrap",children:this.state.tags.map((function(t){return""===t?"":Object(j.jsx)(o.b,{className:"border border border-gray-400 m-2 rounded px-2 py-2 ",onClick:function(){return e.props.addTab(t)},children:t},t)}))})]}):""}}]),r}(a.a.Component);function A(e){for(var t=e.articlesCount,r=e.articlePerPage,n=e.activePageIndex,a=e.changeIndex,s=Math.ceil(t/r),c=[],o=1;o<=s;o++)c.push(o);return t?Object(j.jsx)("div",{className:"my-8",children:Object(j.jsx)("div",{className:"flex justify-center items-center",children:c.map((function(e,t){return Object(j.jsx)("span",{onClick:function(){return a(e)},className:"".concat(e===n?"pagi-active inline-block border border-green-900 p-2":"inline-block border border-green-900 p-2"),children:e},t)}))})}):""}var L=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={articles:null,error:null,articlesCount:0,articlePerPage:10,activePageIndex:1,activeTab:"",activeTag:"",author:""},e.fetchData=function(){var t=e.state.articlePerPage,r=(e.state.activePageIndex-1)*t,n=e.state.activeTab,a=e.state.author;fetch(N+"/?offset=".concat(r,"&limit=").concat(t)+(n&&"&tag=".concat(n))+(a&&"&author=".concat(a))).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){return e.setState({articles:t.articles,error:"",articlesCount:t.articlesCount})})).catch((function(t){return e.setState({error:t})}))},e.changeIndex=function(t){e.setState({activePageIndex:t},e.fetchData)},e.emptyTab=function(){e.setState({activeTab:"",activeTag:"",author:""})},e.addTab=function(t){e.setState({activeTab:t,activeTag:""})},e.yourFeedFn=function(t){e.setState({author:t,activeTag:"your feed"})},e.favoriteArticle=function(t){fetch(N+"/".concat(t,"/favorite"),{method:"POST",headers:{authorization:"Token ".concat(e.props.user.token)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){t.article;e.fetchData()}))},e.unFavoriteArticle=function(t){fetch(N+"/".concat(t,"/favorite"),{method:"DELETE",headers:{authorization:"Token ".concat(e.props.user.token)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){t.article;e.fetchData()}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){t.activePageIndex===this.state.activePageIndex&&t.activeTab===this.state.activeTab&&t.activeTag===this.state.activeTag||this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.articles,r=e.error,n=e.articlesCount,a=e.articlePerPage,s=e.activePageIndex,c=e.activeTag,o=this.props,i=o.isLogedInUser,l=o.user;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("main",{children:[Object(j.jsx)(x,{}),Object(j.jsx)("section",{className:"py-8",children:Object(j.jsxs)("div",{className:"container flex justify-between ",children:[Object(j.jsxs)("div",{className:"flex-60",children:[Object(j.jsx)(f,{activeTab:this.state.activeTab,emptyTab:this.emptyTab,isLogedInUser:i,user:l,yourFeedFn:this.yourFeedFn,activeTag:c}),Object(j.jsx)(v,{articles:t,error:r,favoriteArticle:this.favoriteArticle,unFavoriteArticle:this.unFavoriteArticle}),Object(j.jsx)(A,{articlePerPage:a,articlesCount:n,activePageIndex:s,changeIndex:this.changeIndex})]}),Object(j.jsx)(F,{addTab:this.addTab})]})})]})})}}]),r}(a.a.Component),P=r(15),I=r.n(P),U=r(17),D=r(9),E=r(13),z=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",errors:{email:"",password:""}},e.handleChange=function(t){var r,n=t.target,a=n.value,s=n.name,c=Object(E.a)({},e.state.errors);switch(console.log(c),s){case"email":c.email=-1===a.indexOf("@")?"Email does not contain @":"";break;case"password":var o;a.length<6&&(o="password must b included 6 charecters"),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]/.test(a)||(o="password must be include 8 at least one letter, one number and one special character"),c.password=o}e.setState((r={},Object(D.a)(r,s,a),Object(D.a)(r,"errors",c),r))},e.handleSubmit=function(){var t=Object(U.a)(I.a.mark((function t(r){var n,a,s,c,o,i,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.state,a=n.email,s=n.password,n.errors,console.log({email:a,password:s}),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:a,password:s}})},t.prev=4,t.next=7,fetch(k,c);case 7:if((o=t.sent).ok){t.next=14;break}return t.next=11,o.json();case 11:throw t.sent,e.setState((function(e){return Object(E.a)(Object(E.a)({},e),{},{errors:Object(E.a)(Object(E.a)({},e.errors),{},{email:"Email and password is incorrect"})})})),new Error("data do not  fetch");case 14:return t.next=16,o.json();case 16:i=t.sent,l=e.props.history,e.props.isLogedInUserFn(i.user),l.push("/"),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),console.log({error:t.t0});case 25:case"end":return t.stop()}}),t,null,[[4,22]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state,t=e.email,r=e.password,n=e.errors;return console.log(this.props),Object(j.jsx)("section",{className:"py-16",children:Object(j.jsx)("div",{className:"container flex justify-center items-center ",children:Object(j.jsxs)("form",{action:"",className:"p-8 shadow-lg border rounded-xl width-40",onSubmit:this.handleSubmit,children:[Object(j.jsx)("legend",{className:"text-4xl text-center mb-4",children:"Login"}),Object(j.jsx)(o.b,{to:"/signup",children:Object(j.jsx)("p",{className:"text-center text-green-500",children:"Need an account?"})}),Object(j.jsxs)("div",{className:"mt-16",children:[Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("input",{type:"email",name:"email",id:"",placeholder:"Email",className:"block border-2 py-2 px-4 rounded  w-full",value:t,onChange:this.handleChange}),Object(j.jsx)("span",{className:"mb-4 text-red-500",children:n.email})]}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("input",{type:"password",name:"password",id:"",placeholder:"Password",className:"block border-2 py-2 px-4 rounded w-full ",value:r,onChange:this.handleChange}),Object(j.jsx)("span",{className:"text-red-500",children:n.password})]}),Object(j.jsx)("div",{className:"text-right",children:n.email||n.password?"":Object(j.jsx)("input",{type:"submit",value:"Sign In",className:"bg-green-500 px-4 py-2 rounded text-white font-bold"})})]})]})})})}}]),r}(a.a.Component),M=Object(h.f)(z),J=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={username:"",email:"",password:"",errors:{email:"",password:"",username:""}},e.handleChange=function(t){var r,n=t.target,a=n.value,s=n.name,c=Object(E.a)({},e.state.errors);switch(console.log(c),s){case"email":c.email=-1===a.indexOf("@")?"Email does not contain @":"";break;case"password":var o;a.length<6&&(o="password must b included 6 charecters"),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]/.test(a)||(o="password must be include 8 at least one letter, one number and one special character"),c.password=o;break;case"username":c.username=a.length<4?"username must be includes 5 characters":""}e.setState((r={},Object(D.a)(r,s,a),Object(D.a)(r,"errors",c),r))},e.handleSubmit=function(){var t=Object(U.a)(I.a.mark((function t(r){var n,a,s,c,o,i,l,d;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),n=e.state,a=n.username,s=n.email,c=n.password,n.errors,console.log({username:a,email:s,password:c}),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:a,email:s,password:c}})},t.prev=4,t.next=7,fetch(w,o);case 7:if((i=t.sent).ok){t.next=13;break}return t.next=11,i.json().then((function(e){var t=e.errors;return Promise.reject(t)})).catch((function(t){return e.setState({errors:t})}));case 11:throw t.sent,new Error("data do not  fetch");case 13:return t.next=15,i.json();case 15:l=t.sent,d=e.props.history,e.props.isLogedInUserFn(l.user),d.push("/"),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(4),console.log({error:t.t0});case 24:case"end":return t.stop()}}),t,null,[[4,21]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state,t=e.email,r=e.password,n=e.username,a=e.errors;return Object(j.jsx)("section",{className:"py-16",children:Object(j.jsx)("div",{className:"container flex justify-center items-center ",children:Object(j.jsxs)("form",{action:"",className:"p-8 shadow-lg border rounded-xl width-40",onSubmit:this.handleSubmit,children:[Object(j.jsx)("legend",{className:"text-4xl text-center mb-4",children:"Sign Up"}),Object(j.jsx)(o.b,{to:"/login",children:Object(j.jsx)("p",{className:"text-center text-green-500",children:"Have a account?"})}),Object(j.jsxs)("div",{className:"mt-16",children:[Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("input",{type:"text",name:"username",placeholder:"Username",className:"block border-2 py-2 px-4 rounded  w-full",value:n,onChange:this.handleChange,required:!0}),Object(j.jsx)("span",{className:"mb-4 text-red-500",children:a.username})]}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"block border-2 py-2 px-4 rounded  w-full",value:t,onChange:this.handleChange,required:!0}),Object(j.jsx)("span",{className:"mb-4 text-red-500",children:a.email})]}),Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"block border-2 py-2 px-4 rounded w-full ",value:r,onChange:this.handleChange,required:!0}),Object(j.jsx)("span",{className:"text-red-500",children:a.password})]}),Object(j.jsx)("div",{className:"text-right",children:a.email||a.password?"":Object(j.jsx)("input",{type:"submit",value:"Sign Up",className:"bg-green-500 px-4 py-2 rounded"})})]})]})})})}}]),r}(a.a.Component);var W=Object(h.f)((function(e){var t=e.article,r=t.author,n=t.createdAt,a=t.title,s=t.slug,c=e.user,i=e.editArticleFn,l=e.article,d=e.handleDelete;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("section",{className:"py-24 bg-black",children:Object(j.jsxs)("div",{class:"container  text-white ",children:[Object(j.jsx)("h1",{className:" text-2xl font-semibold mb-8 ",children:a.toUpperCase()}),Object(j.jsxs)("div",{className:" flex  items-center",children:[Object(j.jsx)("div",{children:Object(j.jsx)(o.b,{href:"/profile",children:Object(j.jsx)("img",{src:r.image||"https://static.productionready.io/images/smiley-cyrus.jpg",alt:"avatar",className:"w-12 h-12 rounded-full"})})}),Object(j.jsxs)("div",{className:"ml-4",children:[Object(j.jsx)(o.b,{to:"/profile/".concat(r.username),children:r.username}),Object(j.jsx)("p",{children:n})]})]}),c&&c.username===r.username&&Object(j.jsxs)("div",{className:"mt-8",children:[Object(j.jsx)(o.b,{to:"/editor/".concat(s),className:"border ml-4 px-2 py-2 rounded inline-block",onClick:function(){return i(l)},children:"Edit Article"}),Object(j.jsx)("button",{className:"border ml-4 px-2 py-2 rounded inline-block",onClick:function(){return d(l.slug)},children:"Delete"})]})]})})})}));function Z(){return Object(j.jsxs)("div",{className:"text-center mt-8",children:[Object(j.jsx)(o.b,{to:"/login",className:"mr-4 text-green-500",children:"Sign In"}),"or",Object(j.jsx)(o.b,{to:"/signup",className:"ml-4 mr-4 text-green-500",children:"Sign Up"}),"to add comments on this article."]})}var V=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={comments:null,comment:"",errors:{comment:""}},e.deleteComment=function(t,r){var n={method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Token ".concat(e.props.user.token)}};fetch(N+"/".concat(t,"/comments/").concat(r),n).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){return e.fetchComment()})).catch((function(e){return console.log(e)}))},e.fetchComment=function(){fetch(N+"/".concat(e.props.article.slug,"/comments")).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){var r=t.comments;return e.setState({comments:r})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value,s=e.state,c=s.errors,o=s.comment;switch(n){case"comment":c.comment=o?"You must be include one word":""}e.setState(Object(D.a)({errors:c},n,a))},e.handleSubmit=function(t){t.preventDefault();var r=e.state.comment,n={method:"POST",headers:{"Content-Type":"application/json",authorization:"Token ".concat(e.props.user.token)},body:JSON.stringify({comment:{body:r}})};fetch(N+"/".concat(e.props.article.slug,"/comments"),n).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){t.comment;return e.fetchComment()})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(r,[{key:"componentWillMount",value:function(){this.fetchComment()}},{key:"componentDidUpdate",value:function(e,t){t.comments!==this.state.comments&&this.fetchComment()}},{key:"render",value:function(){var e=this,t=this.props,r=t.user,n=t.article;return this.state.comments?Object(j.jsx)("section",{children:Object(j.jsxs)("div",{class:"container",children:[Object(j.jsx)("div",{className:"p-8 bg-gray-200  w-2/4 mx-auto mt-8 rounded-lg",children:Object(j.jsxs)("form",{action:"",className:" block",onSubmit:this.handleSubmit,children:[Object(j.jsx)("textarea",{id:"",cols:"30",rows:"5",className:"block w-full rounded-lg border border-gray-500 p-4",placeholder:"Write a comment...",onChange:this.handleChange,name:"comment",value:this.state.comment}),Object(j.jsxs)("div",{className:"text-right mt-4 flex justify-between items-center ",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:"".concat(r.image),alt:"",className:"w-16 h-16 rounded-full"})}),Object(j.jsx)("h4",{className:"ml-4 font-bold",children:r.username})]}),Object(j.jsx)("button",{type:"submit",className:"bg-green-500 px-4 py-2 rounded text-white font-bold",children:"Post Comment"})]})]})}),Object(j.jsx)("div",{className:"p-4  w-2/4 mx-auto mt-8 rounded-lg",children:this.state.comments.map((function(t){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"flex bg-gray-200 justify-between items-center items-center mt-4 py-2 px-4 rounded-lg",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("img",{src:"".concat(t.author.image),alt:"",className:"w-8 h-8 rounded-full"}),Object(j.jsx)("p",{className:"ml-4",children:t.body})]}),Object(j.jsx)("p",{onClick:function(){return e.deleteComment(n.slug,t.id)},children:"delete"})]})})}))})]})}):Object(j.jsx)(g,{})}}]),r}(a.a.Component);var q=function(e){var t=e.article,r=t.description,n=t.tagList,a=t.body;return Object(j.jsx)("section",{className:"py-16",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"border-b-2 pb-8 tracking-wider article-cont",children:[Object(j.jsx)("h3",{className:"font-bold text-2xl mb-4",children:r}),Object(j.jsx)("p",{className:"text-gray-500",children:a}),Object(j.jsx)("ul",{className:"flex mt-12",children:n.map((function(e){return""===e?"":Object(j.jsx)("li",{className:"mr-4 border rounded px-2",children:Object(j.jsx)(o.b,{href:"",children:e})})}))})]}),!1===e.isLogedInUser?Object(j.jsx)(Z,{}):Object(j.jsx)(V,{article:e.article,user:e.user})]})})},Y=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={article:null,error:null},e.handleDelete=function(t){var r={method:"DELETE",headers:{authorization:"Token ".concat(e.props.user.token),"Content-Type":"application/json"}};fetch(N+"/".concat(t),r).then((function(t){return e.props.history.push("/")}))},e.fetchData=function(){var t=e.props.match.params.slug;fetch(N+"/".concat(t)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(t){return e.setState({article:t.article,error:""})})).catch((function(t){return e.setState({error:t})}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.article,r=e.error,n=this.props,a=n.isLogedInUser,s=n.user,c=n.editArticleFn;return t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(W,{article:t,error:r,isLogedInUser:a,user:s,editArticleFn:c,handleDelete:this.handleDelete}),Object(j.jsx)(q,{article:t,isLogedInUser:a,user:s})]}):Object(j.jsx)(g,{})}}]),r}(a.a.Component),_=Object(h.f)(Y),B=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={title:"",description:"",tagList:"",body:"",errors:{title:"",description:"",body:""}},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value,s=e.state.errors;switch(n){case"title":s.title=a?"":"title should be includes one world";break;case"description":s.description=a?"":"description should be includes one world";break;case"body":s.title=a?"":"body should be includes one world"}e.setState(Object(D.a)({errors:s},n,a))},e.handleSubmit=function(t){t.preventDefault();var r=e.state,n=r.title,a=r.description,s=r.tagList,c=r.body,o={method:"POST",headers:{"Content-Type":"application/json",authorization:"Token ".concat(e.props.user.token)},body:JSON.stringify({article:{title:n,description:a,body:c,tagList:s.split(",").map((function(e){return e.trim()}))}})};fetch(N,o).then((function(e){return e.ok||e.json().then((function(e){var t=e.errors;return Promise.reject(t)})),e.json()})).then((function(t){t.article;e.setState({title:"",description:"",tagList:"",body:""}),e.props.history.push("/")})).catch((function(t){return e.setState({errors:t})}))},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.state,t=e.title,r=e.description,n=e.tagList,a=e.body;return Object(j.jsx)("section",{className:"py-16",children:Object(j.jsxs)("form",{action:"",className:"width-50 border-2 p-8 shadow-lg rounded-lg",onSubmit:this.handleSubmit,children:[Object(j.jsx)("input",{type:"text",placeholder:"Article Title",name:"title",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2",value:t,onChange:this.handleChange}),Object(j.jsx)("input",{type:"text",placeholder:"What's this article about border-gray-400",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2",name:"description",value:r,onChange:this.handleChange}),Object(j.jsx)("textarea",{name:"body",id:"",cols:"30",rows:"10",placeholder:"Write your article(in markdown)",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2 ",value:a,onChange:this.handleChange}),Object(j.jsx)("input",{type:"text",placeholder:"Enter Tags",name:"tagList",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2 ",value:n,onChange:this.handleChange}),Object(j.jsx)("fieldset",{className:"text-right mt-4",children:Object(j.jsx)("input",{type:"submit",className:"bg-green-500 px-8 py-3 rounded text-white font-semibold text-xl",value:"Publish Article"})})]})})}}]),r}(a.a.Component),G=Object(h.f)(B);function H(){return Object(j.jsxs)("div",{className:"bouncing-loader",style:{height:"100vh"},children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}var R=function(){return Object(j.jsx)("h1",{className:"text-4xl text-center font-bold mt-8",children:"404 Page Not Found"})},K=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={username:e.props.user.username,email:e.props.user.email,bio:e.props.user.bio||"",password:e.props.user.password||"",image:e.props.user.image||"",errors:{email:"",password:"",username:""}},e.handleChange=function(t){var r,n=t.target,a=n.value,s=n.name,c=Object(E.a)({},e.state.errors);switch(s){case"email":c.email=-1===a.indexOf("@")?"Email does not contain @":"";break;case"password":var o;a.length<6&&(o="password must b included 6 charecters"),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]/.test(a)||(o="password must be include 8 at least one letter, one number and one special character"),c.password=o;break;case"username":c.username=a.length<4?"username must be includes 5 characters":""}e.setState((r={},Object(D.a)(r,s,a),Object(D.a)(r,"errors",c),r))},e.handleSubmit=function(t){t.preventDefault();var r=e.state,n=r.username,a=r.email,s=r.bio,c=r.image,o=r.password,i=localStorage.App_key;fetch(C,{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Token ".concat(i)},body:JSON.stringify({user:{username:n,email:a,bio:s,image:c,password:o}})}).then((function(e){return e.json()})).then((function(e){var t=e.user;return console.log(t)}))},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.username,n=t.email,a=t.bio,s=t.image,c=t.password;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("section",{className:"py-16",children:Object(j.jsxs)("div",{className:"container relative",children:[Object(j.jsx)("h1",{className:"text-center mb-8 text-4xl font-bold",children:"Your Settings"}),Object(j.jsxs)("form",{action:"",className:"width-50 p-8 shadow-xl border rounded-xl",onSubmit:this.handleSubmit,children:[Object(j.jsx)("input",{type:"text",name:"image",placeholder:"URL of profile picture",className:"block w-full border py-2 mt-4 rounded px-4",value:s,onChange:this.handleChange}),Object(j.jsx)("input",{type:"username",placeholder:"username",className:"block w-full border py-2 mt-4 rounded px-4",value:r,name:"username",onChange:this.handleChange}),Object(j.jsx)("textarea",{name:"bio",id:"",cols:"30",rows:"10",placeholder:"Short bio about you",className:"block w-full border py-2 mt-4 rounded px-4",value:a,onChange:this.handleChange}),Object(j.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"block w-full border py-2 mt-4 rounded px-4",value:n,onChange:this.handleChange}),Object(j.jsx)("input",{type:"password",name:"password",placeholder:"password",className:"block w-full border py-2 mt-4 rounded px-4",value:c,onChange:this.handleChange}),Object(j.jsx)("fieldset",{className:"text-right mt-4",children:Object(j.jsx)("input",{type:"submit",value:"Update Setting",className:"px-4 py-3 bg-green-500 text-white font-bold rounded"})})]}),Object(j.jsx)("div",{className:"line h-0.5 bg-gray-500 my-8"}),Object(j.jsx)("button",{className:"absolute top-0 right-0 bg-blue-200 px-4 py-2 rounded text-green-800 font-bold shadow-lg",onClick:function(){e.props.logout(),e.props.history.push("/")},children:"Log Out"})]})})})}}]),r}(a.a.Component),Q=Object(h.f)(K),X=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this,t=this.props.profile,r=t.bio,n=t.image,a=t.username,s=(t.email,t.following);return Object(j.jsx)("section",{className:"py-16 text-center bg-gray-900",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"font-0 text-center",children:Object(j.jsx)("img",{src:n,alt:"",className:"w-32 h-32 mx-auto rounded"})}),Object(j.jsx)("h3",{className:"text-white text-2xl mt-4",children:a}),Object(j.jsx)("h4",{className:"text-white text-xl mt-4",children:r}),Object(j.jsx)("div",{className:"text-right",children:a===this.props.user.username?Object(j.jsx)(o.b,{to:"/setting",className:"text-gray-300 border py-2 px-4 rounded-xl",children:"Edit Profile Setting"}):Object(j.jsx)("button",{to:"/",className:"text-gray-300 border py-2 px-4 rounded-xl",onClick:function(){return e.props.handleFollow(a,e.props.user)},children:!1===s?"+ Follow ".concat(a):"UnFollow ".concat(a)})})]})})}}]),r}(a.a.Component),$=Object(h.f)(X),ee=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={activeTab:"author",articles:null,error:"",profile:null,params:e.props.match.params.username},e.fetchProfile=function(){fetch(T+"/".concat(e.props.match.params.username)).then((function(e){return e.ok||e.json().then((function(e){var t=e.errors;return Promise.reject(t)})),e.json()})).then((function(t){var r=t.profile;console.log({profile:r}),e.setState({profile:r})})).catch((function(e){return console.log(e)}))},e.fetchData=function(){var t=e.state.activeTab;fetch(N+"/?".concat(t,"=").concat(e.props.match.params.username)).then((function(e){if(!e.ok)throw new Error("Can not fatch data for specific user");return e.json()})).then((function(t){console.log({data:t}),e.setState({articles:t.articles})})).catch((function(t){return e.setState({error:t})})),e.fetchProfile()},e.handleActivetab=function(t){e.setState({activeTab:t},(function(){return e.fetchData()}))},e.handleFollow=function(t,r){var n={method:"POST",headers:{authorization:"Token ".concat(e.props.user.token)}};fetch(T+"/".concat(t,"/follow"),n).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){var r=t.profile;console.log(r),e.fetchProfile()})).catch((function(e){return console.log(e)}))},e.favoriteArticle=function(t){console.log(t),fetch(N+"/".concat(t,"/favorite"),{method:"POST",headers:{authorization:"Token ".concat(e.props.user.token)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){var r=t.article;console.log(r),e.fetchData()}))},e.unFavoriteArticle=function(t){console.log(t,"unfav"),fetch(N+"/".concat(t,"/favorite"),{method:"DELETE",headers:{authorization:"Token ".concat(e.props.user.token)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){t.article;e.fetchData()}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){t.params!==this.props.match.params.username&&this.fetchData()}},{key:"render",value:function(){var e=this,t=this.props.user;return this.state.profile?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)($,{profile:this.state.profile,user:t||"",handleFollow:this.handleFollow,handleUnFollow:this.handleUnFollow}),Object(j.jsx)("section",{className:"py-8",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"border-b-2  pb-2",children:Object(j.jsxs)("ul",{className:"flex",children:[Object(j.jsx)("li",{className:"mr-4",children:Object(j.jsx)("button",{className:"".concat("author"===this.state.activeTab?"active":""),onClick:function(){return e.handleActivetab("author")},children:"My Article"})}),Object(j.jsx)("li",{className:"mr-4",children:Object(j.jsxs)("button",{className:"".concat("favorited"===this.state.activeTab?"active":""),onClick:function(){return e.handleActivetab("favorited")},children:["Favorited Article"," "]})})]})}),Object(j.jsx)(v,{articles:this.state.articles,unFavoriteArticle:this.unFavoriteArticle,favoriteArticle:this.favoriteArticle})]})})]}):Object(j.jsx)(g,{})}}]),r}(a.a.Component),te=Object(h.f)(ee),re=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={title:"",description:"",tagList:"",body:"",errors:{title:"",description:"",body:""}},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value,s=e.state.errors;switch(n){case"title":s.title=a?"":"title should be includes one world";break;case"description":s.description=a?"":"description should be includes one world";break;case"body":s.title=a?"":"body should be includes one world"}e.setState(Object(D.a)({errors:s},n,a))},e.handleSubmit=function(t){t.preventDefault();var r=e.state,n=r.title,a=r.description,s=r.tagList,c=r.body,o={method:"POST",headers:{"Content-Type":"application/json",authorization:"Token ".concat(e.props.user.token)},body:JSON.stringify({article:{title:n,description:a,body:c,tagList:s.split(",").map((function(e){return e.trim()}))}})};fetch(N,o).then((function(e){return e.ok||e.json().then((function(e){var t=e.errors;return Promise.reject(t)})),e.json()})).then((function(t){t.article;e.setState({title:"",description:"",tagList:"",body:""}),e.props.history.push("/")})).catch((function(t){return e.setState({errors:t})}))},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch(N+"/".concat(this.props.match.params.slug)).then((function(e){return e.json()})).then((function(t){var r=t.article,n=r.title,a=r.description,s=r.tagList,c=r.body;e.setState({title:n,description:a,tagList:s.join(", "),body:c})}))}},{key:"render",value:function(){var e=this.state,t=e.title,r=e.description,n=e.tagList,a=e.body;return Object(j.jsx)("section",{className:"py-16",children:Object(j.jsxs)("form",{action:"",className:"width-50 border-2 p-8 shadow-lg rounded-lg",onSubmit:this.handleSubmit,children:[Object(j.jsx)("input",{type:"text",placeholder:"Article Title",name:"title",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2",value:t,onChange:this.handleChange}),Object(j.jsx)("input",{type:"text",placeholder:"What's this article about border-gray-400",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2",name:"description",value:r,onChange:this.handleChange}),Object(j.jsx)("textarea",{name:"body",id:"",cols:"30",rows:"10",placeholder:"Write your article(in markdown)",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2 ",value:a,onChange:this.handleChange}),Object(j.jsx)("input",{type:"text",placeholder:"Enter Tags",name:"tagList",className:"w-full border border-gray-400 mt-4 rounded px-2 py-2 ",value:n,onChange:this.handleChange}),Object(j.jsx)("fieldset",{className:"text-right mt-4",children:Object(j.jsx)("input",{type:"submit",className:"bg-green-500 px-8 py-3 rounded text-white font-semibold text-xl",value:"Update Article"})})]})})}}]),r}(a.a.Component),ne=Object(h.f)(re);function ae(e){var t=e.isLogedInUser,r=e.user,n=e.logout,a=e.editArticleFn,s=e.article;return console.log(t),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/new-post",children:Object(j.jsx)(G,{user:r})}),Object(j.jsx)(h.a,{path:"/article/:slug",children:Object(j.jsx)(_,{isLogedInUser:t,user:r,editArticleFn:a})}),Object(j.jsx)(h.a,{path:"/setting",children:Object(j.jsx)(Q,{user:r,logout:n})}),Object(j.jsx)(h.a,{path:"/profile/:username",children:Object(j.jsx)(te,{user:r})}),Object(j.jsx)(h.a,{path:"/editor/:slug",children:Object(j.jsx)(ne,{article:s,user:r})}),Object(j.jsx)(h.a,{path:"*",children:Object(j.jsx)(R,{})})]})})}function se(e){var t=e.isLogedInUserFn,r=e.isLogedInUser;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/login",children:Object(j.jsx)(M,{isLogedInUserFn:t})}),Object(j.jsx)(h.a,{path:"/signup",children:Object(j.jsx)(J,{isLogedInUserFn:t})}),Object(j.jsx)(h.a,{path:"/article/:slug",children:Object(j.jsx)(_,{isLogedInUserFn:t,isLogedInUser:r})}),Object(j.jsx)(h.a,{path:"/profile/:username",children:Object(j.jsx)(te,{})}),Object(j.jsx)(h.a,{path:"*",children:Object(j.jsx)(R,{})})]})})}var ce=function(e){Object(d.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isLogedInUser:!1,user:null,isVerifying:!0,article:null,params:{username:""},profile:null},e.isLogedInUserFn=function(t){e.setState({isLogedInUser:!0,user:t,isVerifying:!1,profile:t}),localStorage.setItem(S,t.token)},e.logout=function(){e.setState({isLogedInUser:!1,user:null,isVerifying:!1}),localStorage.clear();e.props.history},e.editArticleFn=function(t){console.log(t),e.setState({article:t})},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.App_key;t?fetch(C,{method:"GET",headers:{authorization:"Token ".concat(t)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){var r=t.user;e.isLogedInUserFn(r)})).catch((function(e){console.log(e)})):this.setState({isVerifying:!1})}},{key:"render",value:function(){var e=this.state,t=e.isLogedInUser,r=e.user,n=e.isVerifying,a=e.article;return n?Object(j.jsx)(H,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{user:r,isLogedInUser:t}),Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{path:"/",exact:!0,children:Object(j.jsx)(L,{user:r,isLogedInUser:t})}),t?Object(j.jsx)(ae,{isLogedInUser:t,user:r,logout:this.logout,article:a,editArticleFn:this.editArticleFn}):Object(j.jsx)(se,{isLogedInUserFn:this.isLogedInUserFn,isLogedInUser:t})]})]})}}]),r}(a.a.Component),oe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,42)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(ce,{})})}),document.getElementById("root")),oe()}},[[41,1,2]]]);
//# sourceMappingURL=main.089175b4.chunk.js.map